# spring
Các ví dụ liên quan đến Spring/SpringBoot từ cơ bản đến nâng cao<br/>
Mỗi nhánh trong Repo sẽ là 1 ví dụ/ giải pháp/ project mẫu trong Spring

# Môi trường phát triển
- Spring Boot 2.7.16
- JDK 11

# Build Tools sử dụng
- Maven + Gradle
- Intelij IDEA

# Folder liên quan trên Windows
```
D:\Projects\spring
```

==============================================================

# Ví dụ [05.JPA+H2]
==============================================================

**Ta sẽ tạo 1 App Spring Boot sử dụng JPA cho H2 Database như sau :**<br/>
- Start ở port 8100
- Tiến hành một số lệnh CRUD cho DB H2 và kiểm tra kết quả thông Console Logs.
- Script tạo data nằm trong file /resource/data.sql và được load trước khi init JPA<br/>
  (Nó cũng được thực thi ở môi trường Integration Tests với H2)


**Tham khảo kết quả khi start WebApp & kết nối với H2 DB:**
```shell
16:13:30: Executing ':JPAH2Application.main()'...

> Task :compileJava UP-TO-DATE
> Task :processResources UP-TO-DATE
> Task :classes UP-TO-DATE

> Task :JPAH2Application.main()

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::               (v2.7.16)

16:13:32.734 [main] INFO  - Starting JPAH2Application using Java 11.0.15 on tdc with PID 24042 (/home/tdc/spring/jpa-h2/build/classes/java/main started by tdc in /home/tdc/spring/jpa-h2)
16:13:32.737 [main] INFO  - No active profile set, falling back to 1 default profile: "default"
16:13:33.556 [main] INFO  - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
16:13:33.618 [main] INFO  - Finished Spring Data repository scanning in 50 ms. Found 1 JPA repository interfaces.
16:13:34.407 [main] INFO  - Tomcat initialized with port(s): 8100 (http)
16:13:34.421 [main] INFO  - Initializing ProtocolHandler ["http-nio-8100"]
16:13:34.425 [main] INFO  - Starting service [Tomcat]
16:13:34.426 [main] INFO  - Starting Servlet engine: [Apache Tomcat/9.0.80]
16:13:34.630 [main] INFO  - Initializing Spring embedded WebApplicationContext
16:13:34.630 [main] INFO  - Root WebApplicationContext: initialization completed in 1815 ms
16:13:34.797 [main] INFO  - HikariPool-1 - Starting...
16:13:35.084 [main] INFO  - HikariPool-1 - Start completed.
16:13:35.251 [main] INFO  - HHH000204: Processing PersistenceUnitInfo [name: default]
16:13:35.303 [main] INFO  - HHH000412: Hibernate ORM core version 5.6.15.Final
16:13:35.479 [main] INFO  - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
16:13:35.609 [main] INFO  - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
16:13:36.374 [main] INFO  - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
16:13:36.388 [main] INFO  - Initialized JPA EntityManagerFactory for persistence unit 'default'
16:13:37.057 [main] WARN  - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
16:13:37.449 [main] INFO  - Starting ProtocolHandler ["http-nio-8100"]
16:13:37.471 [main] INFO  - Tomcat started on port(s): 8100 (http) with context path ''
16:13:37.488 [main] INFO  - Started JPAH2Application in 5.158 seconds (JVM running for 5.696)
16:13:37.512 [main] INFO  - [MAIN] Start running some initialize CLI ...
16:13:37.512 [main] INFO  - --------------------------------------------------------
16:13:37.569 [main] INFO  - [MAIN] Total of users: 15
16:13:37.615 [main] INFO  - [MAIN] findAll() = [User(id=1, name=Alex, password=Pwd-Alex, email=alex@test.com, description=Description for ALex, birthday=2020-01-02 00:00:00.0, active=true, createDate=2021-02-03 00:00:00.0), User(id=2, name=John, password=Pwd-John, email=john@gmail.com, description=Description for Join, birthday=2010-11-12 00:00:00.0, active=true, createDate=2021-02-03 00:00:00.0), User(id=3, name=Smith, password=Pwd-Smith, email=smt@test.com, description=Description for Smith, birthday=2005-01-12 00:00:00.0, active=true, createDate=2021-02-03 00:00:00.0), User(id=4, name=Paul, password=Pwd-Paul, email=pl@test.com, description=Description for Paul, birthday=2005-05-07 00:00:00.0, active=true, createDate=2021-02-03 00:00:00.0), User(id=5, name=Mary, password=Pwd-Mary, email=marry@test.com, description=Description for Mary, birthday=2015-05-07 00:00:00.0, active=true, createDate=2021-02-03 00:00:00.0), User(id=6, name=Margaret, password=Pwd-Margaret, email=magrt@test.com, description=Description for Margaret, birthday=2009-05-11 00:00:00.0, active=true, createDate=2021-02-03 00:00:00.0), User(id=7, name=James, password=Pwd-James, email=james@test.com, description=Description for James, birthday=1990-05-11 00:00:00.0, active=true, createDate=2011-02-03 00:00:00.0), User(id=8, name=Carlos, password=Pwd-Carlos, email=cal@test.com, description=Description for Carlos, birthday=1999-06-11 00:00:00.0, active=true, createDate=2017-02-03 00:00:00.0), User(id=9, name=Peter, password=Pwd-Peter, email=petter@test.com, description=Description for Peter, birthday=2005-03-11 00:00:00.0, active=true, createDate=2021-11-03 00:00:00.0), User(id=10, name=James, password=Pwd-James10, email=james10@test.com, description=Description for James10, birthday=1990-05-11 00:00:00.0, active=true, createDate=2011-02-03 00:00:00.0), User(id=11, name=James, password=Pwd-James11, email=james11@test.com, description=Description for James11, birthday=1990-05-11 00:00:00.0, active=true, createDate=2011-02-03 00:00:00.0), User(id=15, name=James, password=Pwd-James15, email=james15@test.com, description=Description for James15, birthday=1990-05-11 00:00:00.0, active=true, createDate=2011-02-03 00:00:00.0), User(id=17, name=Andy, password=Pwd-Andy, email=andy@test.com, description=Description for Andy, birthday=2022-05-11 00:00:00.0, active=true, createDate=2014-02-03 00:00:00.0), User(id=22, name=Android, password=Pwd-Android, email=andr@test.com, description=Description for Android, birthday=2021-04-11 00:00:00.0, active=true, createDate=2014-02-03 00:00:00.0), User(id=30, name=iOS, password=Pwd-iOS, email=ioss@test.com, description=Description for iOS, birthday=2022-01-12 00:00:00.0, active=true, createDate=2014-02-03 00:00:00.0)]
16:13:37.632 [main] INFO  - [MAIN] findAll(Sort.by('name')) = [User(id=1, name=Alex, password=Pwd-Alex, email=alex@test.com, description=Description for ALex, birthday=2020-01-02 00:00:00.0, active=true, createDate=2021-02-03 00:00:00.0), User(id=22, name=Android, password=Pwd-Android, email=andr@test.com, description=Description for Android, birthday=2021-04-11 00:00:00.0, active=true, createDate=2014-02-03 00:00:00.0), User(id=17, name=Andy, password=Pwd-Andy, email=andy@test.com, description=Description for Andy, birthday=2022-05-11 00:00:00.0, active=true, createDate=2014-02-03 00:00:00.0), User(id=8, name=Carlos, password=Pwd-Carlos, email=cal@test.com, description=Description for Carlos, birthday=1999-06-11 00:00:00.0, active=true, createDate=2017-02-03 00:00:00.0), User(id=7, name=James, password=Pwd-James, email=james@test.com, description=Description for James, birthday=1990-05-11 00:00:00.0, active=true, createDate=2011-02-03 00:00:00.0), User(id=10, name=James, password=Pwd-James10, email=james10@test.com, description=Description for James10, birthday=1990-05-11 00:00:00.0, active=true, createDate=2011-02-03 00:00:00.0), User(id=11, name=James, password=Pwd-James11, email=james11@test.com, description=Description for James11, birthday=1990-05-11 00:00:00.0, active=true, createDate=2011-02-03 00:00:00.0), User(id=15, name=James, password=Pwd-James15, email=james15@test.com, description=Description for James15, birthday=1990-05-11 00:00:00.0, active=true, createDate=2011-02-03 00:00:00.0), User(id=2, name=John, password=Pwd-John, email=john@gmail.com, description=Description for Join, birthday=2010-11-12 00:00:00.0, active=true, createDate=2021-02-03 00:00:00.0), User(id=6, name=Margaret, password=Pwd-Margaret, email=magrt@test.com, description=Description for Margaret, birthday=2009-05-11 00:00:00.0, active=true, createDate=2021-02-03 00:00:00.0), User(id=5, name=Mary, password=Pwd-Mary, email=marry@test.com, description=Description for Mary, birthday=2015-05-07 00:00:00.0, active=true, createDate=2021-02-03 00:00:00.0), User(id=4, name=Paul, password=Pwd-Paul, email=pl@test.com, description=Description for Paul, birthday=2005-05-07 00:00:00.0, active=true, createDate=2021-02-03 00:00:00.0), User(id=9, name=Peter, password=Pwd-Peter, email=petter@test.com, description=Description for Peter, birthday=2005-03-11 00:00:00.0, active=true, createDate=2021-11-03 00:00:00.0), User(id=3, name=Smith, password=Pwd-Smith, email=smt@test.com, description=Description for Smith, birthday=2005-01-12 00:00:00.0, active=true, createDate=2021-02-03 00:00:00.0), User(id=30, name=iOS, password=Pwd-iOS, email=ioss@test.com, description=Description for iOS, birthday=2022-01-12 00:00:00.0, active=true, createDate=2014-02-03 00:00:00.0)]
16:13:37.653 [main] INFO  - [MAIN] findByName('Paul') = User(id=4, name=Paul, password=Pwd-Paul, email=pl@test.com, description=Description for Paul, birthday=2005-05-07 00:00:00.0, active=true, createDate=2021-02-03 00:00:00.0)
16:13:37.656 [main] INFO  - [MAIN] findFirstByOrderByNameAsc() = User(id=1, name=Alex, password=Pwd-Alex, email=alex@test.com, description=Description for ALex, birthday=2020-01-02 00:00:00.0, active=true, createDate=2021-02-03 00:00:00.0)
16:13:37.661 [main] INFO  - [MAIN] findTopByOrderByDescriptionDesc() = User(id=30, name=iOS, password=Pwd-iOS, email=ioss@test.com, description=Description for iOS, birthday=2022-01-12 00:00:00.0, active=true, createDate=2014-02-03 00:00:00.0)
16:13:37.675 [main] INFO  - [MAIN] queryFirst10ByName() = Page 1 of 2 containing demo.jpa_h2.entities.User instances
16:13:37.687 [main] INFO  - [MAIN] findDataCustomSQL() = [User(id=11, name=James, password=Pwd-James11, email=james11@test.com, description=Description for James11, birthday=1990-05-11 00:00:00.0, active=true, createDate=2011-02-03 00:00:00.0), User(id=15, name=James, password=Pwd-James15, email=james15@test.com, description=Description for James15, birthday=1990-05-11 00:00:00.0, active=true, createDate=2011-02-03 00:00:00.0), User(id=17, name=Andy, password=Pwd-Andy, email=andy@test.com, description=Description for Andy, birthday=2022-05-11 00:00:00.0, active=true, createDate=2014-02-03 00:00:00.0), User(id=22, name=Android, password=Pwd-Android, email=andr@test.com, description=Description for Android, birthday=2021-04-11 00:00:00.0, active=true, createDate=2014-02-03 00:00:00.0), User(id=30, name=iOS, password=Pwd-iOS, email=ioss@test.com, description=Description for iOS, birthday=2022-01-12 00:00:00.0, active=true, createDate=2014-02-03 00:00:00.0)]
```

**Tham khảo kết quả khi chạy Integration Tests:**
```shell
> Task :compileJava UP-TO-DATE
> Task :processResources UP-TO-DATE
> Task :classes UP-TO-DATE
> Task :compileTestJava UP-TO-DATE
> Task :processTestResources NO-SOURCE
> Task :testClasses UP-TO-DATE
> Task :test
16:14:34.039 [Test worker] INFO  - Neither @ContextConfiguration nor @ContextHierarchy found for test class [demo.jpa_h2.JPAH2ApplicationTests], using SpringBootContextLoader
16:14:34.048 [Test worker] INFO  - Could not detect default resource locations for test class [demo.jpa_h2.JPAH2ApplicationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
16:14:34.049 [Test worker] INFO  - Could not detect default configuration classes for test class [demo.jpa_h2.JPAH2ApplicationTests]: JPAH2ApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
16:14:34.165 [Test worker] INFO  - Found @SpringBootConfiguration demo.jpa_h2.JPAH2Application for test class demo.jpa_h2.JPAH2ApplicationTests
16:14:34.271 [Test worker] INFO  - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
16:14:34.284 [Test worker] INFO  - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@7daa61f3, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@62315f22, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@6e4ea0bd, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@56f2bbea, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@78f9ed3e, org.springframework.test.context.support.DirtiesContextTestExecutionListener@1059754c, org.springframework.test.context.transaction.TransactionalTestExecutionListener@b0964b2, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@48e7b3d2, org.springframework.test.context.event.EventPublishingTestExecutionListener@7f4037ed, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@24e8de5c, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@64040287, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@110844f6, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@6f89f665, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@df1cff6, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@4925f4f5]

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::               (v2.7.16)

16:14:34.704 [Test worker] INFO  - Starting JPAH2ApplicationTests using Java 11.0.15 on tdc with PID 24498 (started by tdc in /home/tdc/spring/jpa-h2)
16:14:34.706 [Test worker] INFO  - The following 1 profile is active: "test"
16:14:35.521 [Test worker] INFO  - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
16:14:35.626 [Test worker] INFO  - Finished Spring Data repository scanning in 96 ms. Found 1 JPA repository interfaces.
16:14:36.076 [Test worker] INFO  - HikariPool-1 - Starting...
16:14:36.320 [Test worker] INFO  - HikariPool-1 - Start completed.
16:14:36.482 [Test worker] INFO  - HHH000204: Processing PersistenceUnitInfo [name: default]
16:14:36.534 [Test worker] INFO  - HHH000412: Hibernate ORM core version 5.6.15.Final
16:14:36.720 [Test worker] INFO  - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
16:14:36.841 [Test worker] INFO  - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
16:14:37.365 [Test worker] INFO  - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
16:14:37.374 [Test worker] INFO  - Initialized JPA EntityManagerFactory for persistence unit 'default'
16:14:38.244 [Test worker] WARN  - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
16:14:38.960 [Test worker] INFO  - Started JPAH2ApplicationTests in 4.64 seconds (JVM running for 5.916)
16:14:38.982 [Test worker] INFO  - [MAIN] Start running some initialize CLI ...
16:14:38.982 [Test worker] INFO  - --------------------------------------------------------
16:14:39.044 [Test worker] INFO  - [MAIN] Total of users: 15
16:14:39.094 [Test worker] INFO  - [MAIN] findAll() = [User(id=1, name=Alex, password=Pwd-Alex, email=alex@test.com, description=Description for ALex, birthday=2020-01-02 00:00:00.0, active=true, createDate=2021-02-03 00:00:00.0), User(id=2, name=John, password=Pwd-John, email=john@gmail.com, description=Description for Join, birthday=2010-11-12 00:00:00.0, active=true, createDate=2021-02-03 00:00:00.0), User(id=3, name=Smith, password=Pwd-Smith, email=smt@test.com, description=Description for Smith, birthday=2005-01-12 00:00:00.0, active=true, createDate=2021-02-03 00:00:00.0), User(id=4, name=Paul, password=Pwd-Paul, email=pl@test.com, description=Description for Paul, birthday=2005-05-07 00:00:00.0, active=true, createDate=2021-02-03 00:00:00.0), User(id=5, name=Mary, password=Pwd-Mary, email=marry@test.com, description=Description for Mary, birthday=2015-05-07 00:00:00.0, active=true, createDate=2021-02-03 00:00:00.0), User(id=6, name=Margaret, password=Pwd-Margaret, email=magrt@test.com, description=Description for Margaret, birthday=2009-05-11 00:00:00.0, active=true, createDate=2021-02-03 00:00:00.0), User(id=7, name=James, password=Pwd-James, email=james@test.com, description=Description for James, birthday=1990-05-11 00:00:00.0, active=true, createDate=2011-02-03 00:00:00.0), User(id=8, name=Carlos, password=Pwd-Carlos, email=cal@test.com, description=Description for Carlos, birthday=1999-06-11 00:00:00.0, active=true, createDate=2017-02-03 00:00:00.0), User(id=9, name=Peter, password=Pwd-Peter, email=petter@test.com, description=Description for Peter, birthday=2005-03-11 00:00:00.0, active=true, createDate=2021-11-03 00:00:00.0), User(id=10, name=James, password=Pwd-James10, email=james10@test.com, description=Description for James10, birthday=1990-05-11 00:00:00.0, active=true, createDate=2011-02-03 00:00:00.0), User(id=11, name=James, password=Pwd-James11, email=james11@test.com, description=Description for James11, birthday=1990-05-11 00:00:00.0, active=true, createDate=2011-02-03 00:00:00.0), User(id=15, name=James, password=Pwd-James15, email=james15@test.com, description=Description for James15, birthday=1990-05-11 00:00:00.0, active=true, createDate=2011-02-03 00:00:00.0), User(id=17, name=Andy, password=Pwd-Andy, email=andy@test.com, description=Description for Andy, birthday=2022-05-11 00:00:00.0, active=true, createDate=2014-02-03 00:00:00.0), User(id=22, name=Android, password=Pwd-Android, email=andr@test.com, description=Description for Android, birthday=2021-04-11 00:00:00.0, active=true, createDate=2014-02-03 00:00:00.0), User(id=30, name=iOS, password=Pwd-iOS, email=ioss@test.com, description=Description for iOS, birthday=2022-01-12 00:00:00.0, active=true, createDate=2014-02-03 00:00:00.0)]
16:14:39.116 [Test worker] INFO  - [MAIN] findAll(Sort.by('name')) = [User(id=1, name=Alex, password=Pwd-Alex, email=alex@test.com, description=Description for ALex, birthday=2020-01-02 00:00:00.0, active=true, createDate=2021-02-03 00:00:00.0), User(id=22, name=Android, password=Pwd-Android, email=andr@test.com, description=Description for Android, birthday=2021-04-11 00:00:00.0, active=true, createDate=2014-02-03 00:00:00.0), User(id=17, name=Andy, password=Pwd-Andy, email=andy@test.com, description=Description for Andy, birthday=2022-05-11 00:00:00.0, active=true, createDate=2014-02-03 00:00:00.0), User(id=8, name=Carlos, password=Pwd-Carlos, email=cal@test.com, description=Description for Carlos, birthday=1999-06-11 00:00:00.0, active=true, createDate=2017-02-03 00:00:00.0), User(id=7, name=James, password=Pwd-James, email=james@test.com, description=Description for James, birthday=1990-05-11 00:00:00.0, active=true, createDate=2011-02-03 00:00:00.0), User(id=10, name=James, password=Pwd-James10, email=james10@test.com, description=Description for James10, birthday=1990-05-11 00:00:00.0, active=true, createDate=2011-02-03 00:00:00.0), User(id=11, name=James, password=Pwd-James11, email=james11@test.com, description=Description for James11, birthday=1990-05-11 00:00:00.0, active=true, createDate=2011-02-03 00:00:00.0), User(id=15, name=James, password=Pwd-James15, email=james15@test.com, description=Description for James15, birthday=1990-05-11 00:00:00.0, active=true, createDate=2011-02-03 00:00:00.0), User(id=2, name=John, password=Pwd-John, email=john@gmail.com, description=Description for Join, birthday=2010-11-12 00:00:00.0, active=true, createDate=2021-02-03 00:00:00.0), User(id=6, name=Margaret, password=Pwd-Margaret, email=magrt@test.com, description=Description for Margaret, birthday=2009-05-11 00:00:00.0, active=true, createDate=2021-02-03 00:00:00.0), User(id=5, name=Mary, password=Pwd-Mary, email=marry@test.com, description=Description for Mary, birthday=2015-05-07 00:00:00.0, active=true, createDate=2021-02-03 00:00:00.0), User(id=4, name=Paul, password=Pwd-Paul, email=pl@test.com, description=Description for Paul, birthday=2005-05-07 00:00:00.0, active=true, createDate=2021-02-03 00:00:00.0), User(id=9, name=Peter, password=Pwd-Peter, email=petter@test.com, description=Description for Peter, birthday=2005-03-11 00:00:00.0, active=true, createDate=2021-11-03 00:00:00.0), User(id=3, name=Smith, password=Pwd-Smith, email=smt@test.com, description=Description for Smith, birthday=2005-01-12 00:00:00.0, active=true, createDate=2021-02-03 00:00:00.0), User(id=30, name=iOS, password=Pwd-iOS, email=ioss@test.com, description=Description for iOS, birthday=2022-01-12 00:00:00.0, active=true, createDate=2014-02-03 00:00:00.0)]
16:14:39.133 [Test worker] INFO  - [MAIN] findByName('Paul') = User(id=4, name=Paul, password=Pwd-Paul, email=pl@test.com, description=Description for Paul, birthday=2005-05-07 00:00:00.0, active=true, createDate=2021-02-03 00:00:00.0)
16:14:39.137 [Test worker] INFO  - [MAIN] findFirstByOrderByNameAsc() = User(id=1, name=Alex, password=Pwd-Alex, email=alex@test.com, description=Description for ALex, birthday=2020-01-02 00:00:00.0, active=true, createDate=2021-02-03 00:00:00.0)
16:14:39.143 [Test worker] INFO  - [MAIN] findTopByOrderByDescriptionDesc() = User(id=30, name=iOS, password=Pwd-iOS, email=ioss@test.com, description=Description for iOS, birthday=2022-01-12 00:00:00.0, active=true, createDate=2014-02-03 00:00:00.0)
16:14:39.159 [Test worker] INFO  - [MAIN] queryFirst10ByName() = Page 1 of 2 containing demo.jpa_h2.entities.User instances
16:14:39.168 [Test worker] INFO  - [MAIN] findDataCustomSQL() = [User(id=11, name=James, password=Pwd-James11, email=james11@test.com, description=Description for James11, birthday=1990-05-11 00:00:00.0, active=true, createDate=2011-02-03 00:00:00.0), User(id=15, name=James, password=Pwd-James15, email=james15@test.com, description=Description for James15, birthday=1990-05-11 00:00:00.0, active=true, createDate=2011-02-03 00:00:00.0), User(id=17, name=Andy, password=Pwd-Andy, email=andy@test.com, description=Description for Andy, birthday=2022-05-11 00:00:00.0, active=true, createDate=2014-02-03 00:00:00.0), User(id=22, name=Android, password=Pwd-Android, email=andr@test.com, description=Description for Android, birthday=2021-04-11 00:00:00.0, active=true, createDate=2014-02-03 00:00:00.0), User(id=30, name=iOS, password=Pwd-iOS, email=ioss@test.com, description=Description for iOS, birthday=2022-01-12 00:00:00.0, active=true, createDate=2014-02-03 00:00:00.0)]
16:14:39.202 [Test worker] INFO  - Began transaction (1) for test context [DefaultTestContext@4ee1c29a testClass = JPAH2ApplicationTests, testInstance = demo.jpa_h2.JPAH2ApplicationTests@28d1b2f, testMethod = contextLoads@JPAH2ApplicationTests, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@5f32de90 testClass = JPAH2ApplicationTests, locations = '{}', classes = '{class demo.jpa_h2.JPAH2Application}', contextInitializerClasses = '[]', activeProfiles = '{test}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@5f59185e, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@439a8f59, org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@63cd604c, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b6579e8, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@285d851a, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@9cb8225], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@70ccb3bf]; rollback [true]
16:14:39.316 [Test worker] INFO  - [TEST] Total of users: 15
16:14:39.316 [Test worker] INFO  - --------------------------------------------------------
16:14:39.323 [Test worker] INFO  - [TEST] findAll() = [User(id=1, name=Alex, password=Pwd-Alex, email=alex@test.com, description=Description for ALex, birthday=2020-01-02 00:00:00.0, active=true, createDate=2021-02-03 00:00:00.0), User(id=2, name=John, password=Pwd-John, email=john@gmail.com, description=Description for Join, birthday=2010-11-12 00:00:00.0, active=true, createDate=2021-02-03 00:00:00.0), User(id=3, name=Smith, password=Pwd-Smith, email=smt@test.com, description=Description for Smith, birthday=2005-01-12 00:00:00.0, active=true, createDate=2021-02-03 00:00:00.0), User(id=4, name=Paul, password=Pwd-Paul, email=pl@test.com, description=Description for Paul, birthday=2005-05-07 00:00:00.0, active=true, createDate=2021-02-03 00:00:00.0), User(id=5, name=Mary, password=Pwd-Mary, email=marry@test.com, description=Description for Mary, birthday=2015-05-07 00:00:00.0, active=true, createDate=2021-02-03 00:00:00.0), User(id=6, name=Margaret, password=Pwd-Margaret, email=magrt@test.com, description=Description for Margaret, birthday=2009-05-11 00:00:00.0, active=true, createDate=2021-02-03 00:00:00.0), User(id=7, name=James, password=Pwd-James, email=james@test.com, description=Description for James, birthday=1990-05-11 00:00:00.0, active=true, createDate=2011-02-03 00:00:00.0), User(id=8, name=Carlos, password=Pwd-Carlos, email=cal@test.com, description=Description for Carlos, birthday=1999-06-11 00:00:00.0, active=true, createDate=2017-02-03 00:00:00.0), User(id=9, name=Peter, password=Pwd-Peter, email=petter@test.com, description=Description for Peter, birthday=2005-03-11 00:00:00.0, active=true, createDate=2021-11-03 00:00:00.0), User(id=10, name=James, password=Pwd-James10, email=james10@test.com, description=Description for James10, birthday=1990-05-11 00:00:00.0, active=true, createDate=2011-02-03 00:00:00.0), User(id=11, name=James, password=Pwd-James11, email=james11@test.com, description=Description for James11, birthday=1990-05-11 00:00:00.0, active=true, createDate=2011-02-03 00:00:00.0), User(id=15, name=James, password=Pwd-James15, email=james15@test.com, description=Description for James15, birthday=1990-05-11 00:00:00.0, active=true, createDate=2011-02-03 00:00:00.0), User(id=17, name=Andy, password=Pwd-Andy, email=andy@test.com, description=Description for Andy, birthday=2022-05-11 00:00:00.0, active=true, createDate=2014-02-03 00:00:00.0), User(id=22, name=Android, password=Pwd-Android, email=andr@test.com, description=Description for Android, birthday=2021-04-11 00:00:00.0, active=true, createDate=2014-02-03 00:00:00.0), User(id=30, name=iOS, password=Pwd-iOS, email=ioss@test.com, description=Description for iOS, birthday=2022-01-12 00:00:00.0, active=true, createDate=2014-02-03 00:00:00.0)]
16:14:39.328 [Test worker] INFO  - [TEST] findAll(Sort.by('name')) = [User(id=1, name=Alex, password=Pwd-Alex, email=alex@test.com, description=Description for ALex, birthday=2020-01-02 00:00:00.0, active=true, createDate=2021-02-03 00:00:00.0), User(id=22, name=Android, password=Pwd-Android, email=andr@test.com, description=Description for Android, birthday=2021-04-11 00:00:00.0, active=true, createDate=2014-02-03 00:00:00.0), User(id=17, name=Andy, password=Pwd-Andy, email=andy@test.com, description=Description for Andy, birthday=2022-05-11 00:00:00.0, active=true, createDate=2014-02-03 00:00:00.0), User(id=8, name=Carlos, password=Pwd-Carlos, email=cal@test.com, description=Description for Carlos, birthday=1999-06-11 00:00:00.0, active=true, createDate=2017-02-03 00:00:00.0), User(id=7, name=James, password=Pwd-James, email=james@test.com, description=Description for James, birthday=1990-05-11 00:00:00.0, active=true, createDate=2011-02-03 00:00:00.0), User(id=10, name=James, password=Pwd-James10, email=james10@test.com, description=Description for James10, birthday=1990-05-11 00:00:00.0, active=true, createDate=2011-02-03 00:00:00.0), User(id=11, name=James, password=Pwd-James11, email=james11@test.com, description=Description for James11, birthday=1990-05-11 00:00:00.0, active=true, createDate=2011-02-03 00:00:00.0), User(id=15, name=James, password=Pwd-James15, email=james15@test.com, description=Description for James15, birthday=1990-05-11 00:00:00.0, active=true, createDate=2011-02-03 00:00:00.0), User(id=2, name=John, password=Pwd-John, email=john@gmail.com, description=Description for Join, birthday=2010-11-12 00:00:00.0, active=true, createDate=2021-02-03 00:00:00.0), User(id=6, name=Margaret, password=Pwd-Margaret, email=magrt@test.com, description=Description for Margaret, birthday=2009-05-11 00:00:00.0, active=true, createDate=2021-02-03 00:00:00.0), User(id=5, name=Mary, password=Pwd-Mary, email=marry@test.com, description=Description for Mary, birthday=2015-05-07 00:00:00.0, active=true, createDate=2021-02-03 00:00:00.0), User(id=4, name=Paul, password=Pwd-Paul, email=pl@test.com, description=Description for Paul, birthday=2005-05-07 00:00:00.0, active=true, createDate=2021-02-03 00:00:00.0), User(id=9, name=Peter, password=Pwd-Peter, email=petter@test.com, description=Description for Peter, birthday=2005-03-11 00:00:00.0, active=true, createDate=2021-11-03 00:00:00.0), User(id=3, name=Smith, password=Pwd-Smith, email=smt@test.com, description=Description for Smith, birthday=2005-01-12 00:00:00.0, active=true, createDate=2021-02-03 00:00:00.0), User(id=30, name=iOS, password=Pwd-iOS, email=ioss@test.com, description=Description for iOS, birthday=2022-01-12 00:00:00.0, active=true, createDate=2014-02-03 00:00:00.0)]
16:14:39.331 [Test worker] INFO  - [TEST] findByName('Paul') = User(id=4, name=Paul, password=Pwd-Paul, email=pl@test.com, description=Description for Paul, birthday=2005-05-07 00:00:00.0, active=true, createDate=2021-02-03 00:00:00.0)
16:14:39.334 [Test worker] INFO  - [TEST] findFirstByOrderByNameAsc() = User(id=1, name=Alex, password=Pwd-Alex, email=alex@test.com, description=Description for ALex, birthday=2020-01-02 00:00:00.0, active=true, createDate=2021-02-03 00:00:00.0)
16:14:39.337 [Test worker] INFO  - [TEST] findTopByOrderByDescriptionDesc() = User(id=30, name=iOS, password=Pwd-iOS, email=ioss@test.com, description=Description for iOS, birthday=2022-01-12 00:00:00.0, active=true, createDate=2014-02-03 00:00:00.0)
16:14:39.344 [Test worker] INFO  - [TEST] queryFirst10ByName() = Page 1 of 2 containing demo.jpa_h2.entities.User instances
16:14:39.347 [Test worker] INFO  - [TEST] findDataCustomSQL() = [User(id=11, name=James, password=Pwd-James11, email=james11@test.com, description=Description for James11, birthday=1990-05-11 00:00:00.0, active=true, createDate=2011-02-03 00:00:00.0), User(id=15, name=James, password=Pwd-James15, email=james15@test.com, description=Description for James15, birthday=1990-05-11 00:00:00.0, active=true, createDate=2011-02-03 00:00:00.0), User(id=17, name=Andy, password=Pwd-Andy, email=andy@test.com, description=Description for Andy, birthday=2022-05-11 00:00:00.0, active=true, createDate=2014-02-03 00:00:00.0), User(id=22, name=Android, password=Pwd-Android, email=andr@test.com, description=Description for Android, birthday=2021-04-11 00:00:00.0, active=true, createDate=2014-02-03 00:00:00.0), User(id=30, name=iOS, password=Pwd-iOS, email=ioss@test.com, description=Description for iOS, birthday=2022-01-12 00:00:00.0, active=true, createDate=2014-02-03 00:00:00.0)]
16:14:39.357 [Test worker] INFO  - Rolled back transaction for test: [DefaultTestContext@4ee1c29a testClass = JPAH2ApplicationTests, testInstance = demo.jpa_h2.JPAH2ApplicationTests@28d1b2f, testMethod = contextLoads@JPAH2ApplicationTests, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@5f32de90 testClass = JPAH2ApplicationTests, locations = '{}', classes = '{class demo.jpa_h2.JPAH2Application}', contextInitializerClasses = '[]', activeProfiles = '{test}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@5f59185e, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@439a8f59, org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@63cd604c, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4b6579e8, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@285d851a, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@9cb8225], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]
16:14:39.387 [SpringApplicationShutdownHook] INFO  - Closing JPA EntityManagerFactory for persistence unit 'default'
16:14:39.391 [SpringApplicationShutdownHook] INFO  - HikariPool-1 - Shutdown initiated...
16:14:39.396 [SpringApplicationShutdownHook] INFO  - HikariPool-1 - Shutdown completed.
Deprecated Gradle features were used in this build, making it incompatible with Gradle 9.0.
You can use '--warning-mode all' to show the individual deprecation warnings and determine if they come from your own scripts or plugins.
For more on this, please refer to https://docs.gradle.org/8.2.1/userguide/command_line_interface.html#sec:command_line_warnings in the Gradle documentation.
BUILD SUCCESSFUL in 7s
4 actionable tasks: 1 executed, 3 up-to-date
16:14:39: Execution finished ':test --tests "demo.jpa_h2.JPAH2ApplicationTests"'.
```

**Một số API từ Controller để tương tác vào DB**
```shell
  http://localhost:8100/user/all
  http://localhost:8100/user/findbyid?id=5
  http://localhost:8100/user/find-by-active?active=true
  http://localhost:8100/user/find-by-active?active=false
  
  http://localhost:8100/user/find-all-by-page?page=2&size=5
  http://localhost:8100/user/find-all-by-page-sort?page=2&size=5&sortField=name&sortType=desc
  
  http://localhost:8100/user/insert?numOfUsers=3
  http://localhost:8100/user/update?fromId=4&toId=10&newNamePrefix=MY-PREFIX&maxUpdateItems=2
  
  http://localhost:8100/user/sort?sortField=createDate&sortType=desc
  
  http://localhost:8100/user/custom-sql
  
  ...... còn nữa, mà lười liệt kê :) ....

```
